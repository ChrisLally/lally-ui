{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fumadocs-sdk-layout",
  "type": "registry:component",
  "title": "Fumadocs Sdk Layout",
  "description": "Interactive SDK docs layout components for Fumadocs pages.",
  "dependencies": [
    "fumadocs-ui",
    "json5"
  ],
  "files": [
    {
      "path": "registry/chris-lally/fumadocs-sdk-layout/sdk-layout/index.ts",
      "content": "export { SDKSection } from \"./sections/sdk-section\";\nexport type { SDKSectionProps } from \"./sections/sdk-section\";\nexport { SDKFunctionPageInteractive } from \"./interactive/sdk-function-page-interactive\";\nexport type {\n  SDKFunctionPageData,\n  ParameterData,\n  SignatureData,\n  ConstantData,\n  ReferencedType,\n} from \"./types/sdk-function-page-types\";\n",
      "type": "registry:component",
      "target": "sdk-layout/index.ts"
    },
    {
      "path": "registry/chris-lally/fumadocs-sdk-layout/sdk-layout/types/sdk-function-page-types.ts",
      "content": "export type ParameterData = {\n    name: string;\n    type: string;\n    optional: boolean;\n    description: string;\n    example?: string;\n    options?: string[];\n};\n\nexport type SignatureData = {\n    description: string;\n    parameters: ParameterData[];\n    returnType: string;\n    returnDescription: string;\n    exampleCode?: string;\n    infoCallout?: { title: string; body: string };\n    referencedTypes?: ReferencedType[];\n};\n\nexport type ConstantData = {\n    name: string;\n    description: string;\n    typeText: string;\n    typeTableEntries?: Record<string, { description: string; type: string; required: boolean }>;\n};\n\nexport type ReferencedType = {\n    name: string;\n    description: string;\n    type: string;\n    docsUrl?: string;\n    entries?: Record<string, { description: string; type: string; required: boolean }>;\n};\n\nexport type SDKFunctionPageData = {\n    name: string;\n    description: string;\n    section: string;\n    signatures: SignatureData[];\n    constants?: ConstantData[];\n    referencedTypes?: ReferencedType[];\n};\n",
      "type": "registry:lib",
      "target": "sdk-layout/types/sdk-function-page-types.ts"
    },
    {
      "path": "registry/chris-lally/fumadocs-sdk-layout/sdk-layout/sections/sdk-section.tsx",
      "content": "import { cn } from '@/lib/utils';\nimport { Children, isValidElement, type ComponentPropsWithoutRef, type ReactNode } from 'react';\n\nexport interface SDKSectionProps extends Omit<ComponentPropsWithoutRef<'section'>, 'title' | 'children'> {\n  title: ReactNode;\n  description?: ReactNode;\n  codeTitle?: ReactNode;\n  children: ReactNode;\n}\n\nfunction isPreNode(node: ReactNode): boolean {\n  return isValidElement(node) && typeof node.type === 'string' && node.type === 'pre';\n}\n\nexport function SDKSection({\n  title,\n  description,\n  codeTitle = 'TypeScript',\n  className,\n  children,\n  ...props\n}: SDKSectionProps) {\n  const nodes = Children.toArray(children);\n  const codeNodeIndex = nodes.findIndex(isPreNode);\n  const codeNode = codeNodeIndex >= 0 ? nodes[codeNodeIndex] : null;\n  const contentNodes = codeNodeIndex >= 0 ? nodes.filter((_, index) => index !== codeNodeIndex) : nodes;\n\n  return (\n    <section className={cn('not-prose my-10 @container', className)} {...props}>\n      <div className=\"flex flex-col gap-x-6 gap-y-4 @4xl:flex-row @4xl:items-start\">\n        <div className=\"min-w-0 flex-1 rounded-xl border bg-fd-card px-5 py-4 text-fd-card-foreground\">\n          <div className=\"mb-4\">\n            <h3 className=\"text-base font-semibold tracking-tight\">{title}</h3>\n            {description ? <div className=\"mt-1 text-sm text-fd-muted-foreground\">{description}</div> : null}\n          </div>\n\n          <div className=\"space-y-4 text-sm leading-6\">{contentNodes}</div>\n        </div>\n\n        {codeNode ? (\n          <aside className=\"@4xl:sticky @4xl:top-[calc(var(--fd-docs-row-1,2rem)+1rem)] @4xl:w-[400px]\">\n            <div className=\"overflow-hidden rounded-xl border bg-fd-card text-fd-card-foreground\">\n              <div className=\"border-b px-4 py-2 text-xs font-medium uppercase tracking-wide text-fd-muted-foreground\">\n                {codeTitle}\n              </div>\n              <div className=\"max-h-[36rem] overflow-auto px-4 py-3 [&_pre]:m-0 [&_pre]:max-h-none [&_pre]:overflow-visible\">\n                {codeNode}\n              </div>\n            </div>\n          </aside>\n        ) : null}\n      </div>\n    </section>\n  );\n}\n",
      "type": "registry:component",
      "target": "sdk-layout/sections/sdk-section.tsx"
    },
    {
      "path": "registry/chris-lally/fumadocs-sdk-layout/sdk-layout/interactive/sdk-function-page-interactive.tsx",
      "content": "/**\n * SDK INTERACTIVE PLAYGROUND COMPONENT\n * \n * Provides a reactive, two-column interactive playground for dynamic SDK documentation.\n * \n * FEATURES:\n * - Reactive Execution: Automatically runs SDK functions as parameters change.\n * - Sticky Panels: Keeps code examples and results visible during scroll.\n * - Smart Inputs: Uses Combobox for enums/unions and smart placeholders for types.\n * - Dynamic Offset: Measures #nd-subnav height to ensure pixel-perfect sticky positioning.\n * \n * DATA FLOW:\n * generate-sdk-reference.ts (Static Build) -> MDX (Content) -> SDKFunctionPage (Layout) -> THIS COMPONENT\n */\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Callout } from 'fumadocs-ui/components/callout';\nimport { TypeTable } from 'fumadocs-ui/components/type-table';\nimport JSON5 from 'json5';\nimport { PackageManagerTabs } from '@/components/mdx/package-manager-tabs';\nimport {\n    Combobox,\n    ComboboxContent,\n    ComboboxEmpty,\n    ComboboxInput,\n    ComboboxItem,\n    ComboboxList,\n} from '@/components/ui/combobox';\nimport {\n    CodeBlock,\n    Pre,\n    CodeBlockTab,\n    CodeBlockTabs,\n    CodeBlockTabsList,\n    CodeBlockTabsTrigger,\n} from 'fumadocs-ui/components/codeblock';\nimport type { SDKFunctionPageData, ParameterData, SignatureData, ConstantData, ReferencedType } from '../types/sdk-function-page-types';\n\ntype ParamValue = string | number | boolean | object | null;\n\ntype SDKRuntimeAdapter = {\n    packageName: string;\n    runFunction: (functionName: string, args: unknown[]) => Promise<unknown> | unknown;\n};\n\nexport function SDKFunctionPageInteractive({ data, runtime }: { data: SDKFunctionPageData; runtime: SDKRuntimeAdapter }) {\n    const needsViemCallout = data.section === 'Signing' || data.section === 'Attestation';\n\n    return (\n        <>\n            {needsViemCallout && (\n                <Callout type=\"info\" title=\"Optional Peer Dependency\">\n                    EIP-712 and EIP-191 flows require <code>viem</code>. Ed25519 works without it.\n                    <PackageManagerTabs packageName=\"viem\" />\n                </Callout>\n            )}\n\n            {data.signatures.map((sig, i) => (\n                <InteractiveSignatureSection\n                    key={i}\n                    signature={sig}\n                    referencedTypes={sig.referencedTypes ?? data.referencedTypes ?? []}\n                    functionName={data.name}\n                    runtime={runtime}\n                    functionDescription={data.description}\n                    index={i}\n                    total={data.signatures.length}\n                />\n            ))}\n\n            {data.constants && data.constants.length > 0 && (\n                <ConstantSection constants={data.constants} />\n            )}\n\n            {data.referencedTypes && data.referencedTypes.length > 0 && (\n                <TypeDefinitionsSection types={data.referencedTypes} />\n            )}\n        </>\n    );\n}\n\nfunction InteractiveSignatureSection({\n    signature,\n    referencedTypes,\n    functionName,\n    runtime,\n    functionDescription,\n    index,\n    total,\n}: {\n    signature: SignatureData;\n    referencedTypes: ReferencedType[];\n    functionName: string;\n    runtime: SDKRuntimeAdapter;\n    functionDescription: string;\n    index: number;\n    total: number;\n}) {\n    const [paramValues, setParamValues] = useState<Record<string, ParamValue>>(() => {\n        const initial: Record<string, ParamValue> = {};\n        for (const param of signature.parameters) {\n            initial[param.name] = getInitialParamValue(param);\n        }\n        return initial;\n    });\n    const [result, setResult] = useState<{ value: unknown; error?: string } | null>(null);\n    const [loading, setLoading] = useState(false);\n\n    const showSignatureDescription =\n        Boolean(signature.description) &&\n        (total > 1 || !functionDescription || signature.description !== functionDescription);\n\n    const usageCode = generateUsageExample(functionName, signature, paramValues, runtime.packageName);\n\n    useEffect(() => {\n        let isMounted = true;\n        const runSDKFunction = async () => {\n            setLoading(true);\n            try {\n                const args = signature.parameters.map((param) => {\n                    const value = paramValues[param.name];\n                    // Fallback to example/default if actual value is empty\n                    const finalValue = (value === undefined || value === null || (typeof value === 'string' && value.trim() === ''))\n                        ? (param.example ?? getDefaultValue(param))\n                        : value;\n                    return parseParamValue(finalValue, param.type);\n                });\n\n                const output = await Promise.resolve(runtime.runFunction(functionName, args));\n                if (isMounted) setResult({ value: output });\n            } catch (err) {\n                if (isMounted) {\n                    setResult({\n                        value: null,\n                        error: err instanceof Error ? err.message : String(err),\n                    });\n                }\n            } finally {\n                if (isMounted) setLoading(false);\n            }\n        };\n\n        runSDKFunction();\n        return () => { isMounted = false; };\n    }, [functionName, signature, paramValues]);\n\n    function handleParamChange(paramName: string, newValue: ParamValue) {\n        setParamValues({ ...paramValues, [paramName]: newValue });\n    }\n\n    const [headerHeight, setHeaderHeight] = useState('0px');\n\n    useEffect(() => {\n        const updateHeight = () => {\n            const header = document.getElementById('nd-subnav');\n            if (header) {\n                const rect = header.getBoundingClientRect();\n                setHeaderHeight(`${rect.height}px`);\n            }\n        };\n\n        updateHeight();\n        window.addEventListener('resize', updateHeight);\n        return () => window.removeEventListener('resize', updateHeight);\n    }, []);\n\n    return (\n        <div className=\"not-prose my-10 @container\">\n            {/* Two-column layout matching OpenAPI style */}\n            <div className=\"flex flex-col gap-x-6 gap-y-4 @4xl:flex-row @4xl:items-start\">\n                {/* Left column: Interactive playground + type definitions */}\n                <div className=\"min-w-0 flex-1\">\n                    {signature.infoCallout && (\n                        <Callout type=\"info\" title={signature.infoCallout.title} className=\"mb-4\">\n                            {signature.infoCallout.body || undefined}\n                        </Callout>\n                    )}\n\n                    {showSignatureDescription && (\n                        <div className=\"mb-4 text-sm text-fd-muted-foreground\">\n                            {signature.description}\n                        </div>\n                    )}\n\n                    {/* Playground Header */}\n                    <div className=\"flex flex-row items-center gap-2.5 p-3 rounded-xl border bg-fd-card text-fd-card-foreground mb-4\">\n                        <span className=\"font-mono text-xs font-semibold text-fd-primary\">\n                            {functionName}({signature.parameters.map((p) => p.name).join(', ')})\n                        </span>\n                        {loading && (\n                            <span className=\"ml-auto text-xs text-fd-muted-foreground animate-pulse\">\n                                Calculatingâ€¦\n                            </span>\n                        )}\n                    </div>\n\n                    {/* Parameters Section */}\n                    {signature.parameters.length > 0 && (\n                        <>\n                            <h3 className=\"text-sm font-semibold mt-6 mb-3\">Parameters</h3>\n                            <div className=\"space-y-3\">\n                                {signature.parameters.map((param) => (\n                                    <ParamInput\n                                        key={param.name}\n                                        param={param}\n                                        typeIndex={buildReferencedTypeIndex(referencedTypes)}\n                                        value={paramValues[param.name]}\n                                        onChange={(val: ParamValue) => handleParamChange(param.name, val)}\n                                    />\n                                ))}\n                            </div>\n                        </>\n                    )}\n\n                    {/* Returns section moved back here */}\n                    <div className=\"mt-10\">\n                        <h3 className=\"text-sm font-semibold mb-3\">Returns</h3>\n                        <ReturnBlock returnType={signature.returnType} returnDescription={signature.returnDescription} />\n                    </div>\n                </div>\n\n                {/* Right column: Interactive Sandbox (sticky) */}\n                <div\n                    className=\"@4xl:sticky @4xl:w-[400px] flex flex-col gap-y-4\"\n                    style={{ top: `calc(var(--fd-docs-row-1, 0px) + ${headerHeight} + 1rem)` }}\n                >\n                    {/* Usage Block */}\n                    <CodeBlockTabs defaultValue=\"ts\">\n                        <CodeBlockTabsList>\n                            <CodeBlockTabsTrigger value=\"ts\">TypeScript</CodeBlockTabsTrigger>\n                        </CodeBlockTabsList>\n                        <CodeBlockTab value=\"ts\">\n                            <CodeBlock allowCopy keepBackground={false} className=\"border-0 m-0 rounded-none bg-transparent\">\n                                <Pre className=\"ml-4\">\n                                    <code className=\"language-ts\">{usageCode}</code>\n                                </Pre>\n                            </CodeBlock>\n                        </CodeBlockTab>\n                    </CodeBlockTabs>\n\n                    {/* Result Block */}\n                    {result && (\n                        <CodeBlockTabs defaultValue=\"result\">\n                            <CodeBlockTabsList>\n                                <CodeBlockTabsTrigger value=\"result\">Result</CodeBlockTabsTrigger>\n                            </CodeBlockTabsList>\n                            <CodeBlockTab value=\"result\">\n                                <CodeBlock allowCopy keepBackground={false} className=\"border-0 m-0 rounded-none bg-transparent\">\n                                    <Pre className=\"max-h-[400px] ml-4\">\n                                        <code className={typeof result.value === 'string' ? '' : 'language-json'}>\n                                            {typeof result.value === 'string'\n                                                ? result.value\n                                                : JSON.stringify(result.value, null, 2)}\n                                        </code>\n                                    </Pre>\n                                </CodeBlock>\n                            </CodeBlockTab>\n                        </CodeBlockTabs>\n                    )}\n\n                    {/* Error Display */}\n                    {result?.error && (\n                        <div className=\"rounded-xl border border-red-500/30 bg-red-500/10 p-4 text-sm text-red-600 dark:text-red-400 font-mono whitespace-pre-wrap\">\n                            <strong>Error:</strong> {result.error}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction ParamInput({\n    param,\n    typeIndex,\n    value,\n    onChange,\n}: {\n    param: ParameterData;\n    typeIndex: Map<string, ReferencedType>;\n    value: ParamValue;\n    onChange: (value: ParamValue) => void;\n}) {\n    const isGeneratedEnum = param.options && param.options.length > 0;\n    const isInlineEnum = !isGeneratedEnum && /^\"[^\"]*\"(\\s*\\|\\s*\"[^\"]*\")+$/.test(param.type);\n    const isStructured = isStructuredType(param.type);\n    const [structuredMode, setStructuredMode] = useState<'form' | 'json'>('form');\n\n    const isEnum = isGeneratedEnum || isInlineEnum;\n    const enumValues = isGeneratedEnum\n        ? param.options!\n        : isInlineEnum\n            ? param.type.split('|').map((v) => v.trim().replace(/^\"|\"$/g, ''))\n            : [];\n    const structuredValue = toStructuredObject(value, param.type);\n    const rootEntries = resolveTypeEntries(param.type, typeIndex);\n    const canUseForm = isStructured && Boolean(rootEntries);\n\n    return (\n        <div className=\"rounded-md border border-fd-border bg-fd-background p-3\">\n            <div className=\"flex items-start justify-between gap-2 mb-2\">\n                <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                        <span className=\"font-mono text-sm font-semibold\">{param.name}</span>\n                        <span className=\"text-xs text-fd-muted-foreground font-mono\">{param.type}</span>\n                        {!param.optional && (\n                            <span className=\"text-xs text-red-500\">*</span>\n                        )}\n                    </div>\n                    {param.description && (\n                        <div className=\"text-xs text-fd-muted-foreground mt-1\">\n                            {param.description}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {isEnum ? (\n                <div className=\"relative mt-2\">\n                    <Combobox\n                        items={enumValues}\n                        value={String(value ?? '')}\n                        onValueChange={(val: string) => onChange(val as string)}\n                    >\n                        <ComboboxInput\n                            placeholder=\"Select value...\"\n                            className=\"bg-fd-background\"\n                        />\n                        <ComboboxContent className=\"z-[100] min-w-[var(--anchor-width)]\">\n                            <ComboboxEmpty>No items found.</ComboboxEmpty>\n                            <ComboboxList>\n                                {(enumVal: string) => (\n                                    <ComboboxItem key={enumVal} value={enumVal}>\n                                        {enumVal}\n                                    </ComboboxItem>\n                                )}\n                            </ComboboxList>\n                        </ComboboxContent>\n                    </Combobox>\n                </div>\n            ) : (\n                isStructured ? (\n                    <>\n                        {canUseForm && (\n                            <div className=\"mt-2 mb-2 flex items-center gap-2\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setStructuredMode('form')}\n                                    className={`px-2 py-1 text-xs rounded border ${structuredMode === 'form' ? 'bg-fd-accent border-fd-border' : 'border-fd-border text-fd-muted-foreground'}`}\n                                >\n                                    Form\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setStructuredMode('json')}\n                                    className={`px-2 py-1 text-xs rounded border ${structuredMode === 'json' ? 'bg-fd-accent border-fd-border' : 'border-fd-border text-fd-muted-foreground'}`}\n                                >\n                                    JSON\n                                </button>\n                            </div>\n                        )}\n                        {!canUseForm || structuredMode === 'json' ? (\n                            <textarea\n                                value={stringifyParamValueForEditor(value)}\n                                onChange={(e) => onChange(e.target.value)}\n                                placeholder={getPlaceholder(param)}\n                                rows={8}\n                                spellCheck={false}\n                                className=\"w-full rounded border border-fd-border bg-fd-background px-2 py-1.5 text-sm font-mono mt-2 resize-y\"\n                            />\n                        ) : structuredValue && rootEntries ? (\n                            <StructuredSchemaEditor\n                                value={structuredValue}\n                                entries={rootEntries}\n                                typeIndex={typeIndex}\n                                onChange={(next) => onChange(next)}\n                            />\n                        ) : (\n                            <div className=\"mt-2 text-xs text-fd-muted-foreground\">\n                                Invalid structured input. Switch to JSON mode to fix parse errors.\n                            </div>\n                        )}\n                    </>\n                ) : (\n                    <input\n                        type=\"text\"\n                        value={String(value ?? '')}\n                        onChange={(e) => onChange(e.target.value)}\n                        placeholder={getPlaceholder(param)}\n                        className=\"w-full rounded border border-fd-border bg-fd-background px-2 py-1.5 text-sm font-mono mt-2\"\n                    />\n                )\n            )}\n            {isFideIdLikeType(param.type) && typeof value === 'string' && value.trim() !== '' && !isValidFideIdValue(value) && (\n                <div className=\"mt-1 text-xs text-red-500\">\n                    Invalid Fide ID format. Expected <code>did:fide:0x</code> + 40 hex chars.\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction StructuredSchemaEditor({\n    value,\n    entries,\n    typeIndex,\n    onChange,\n}: {\n    value: Record<string, unknown>;\n    entries: Record<string, { description: string; type: string; required: boolean }>;\n    typeIndex: Map<string, ReferencedType>;\n    onChange: (value: Record<string, unknown>) => void;\n}) {\n    return (\n        <div className=\"mt-2 space-y-2\">\n            {Object.entries(entries).map(([key, schema]) => {\n                const current = value[key];\n                const nestedEntries = resolveTypeEntries(schema.type, typeIndex);\n                if (nestedEntries) {\n                    const nestedValue =\n                        current && typeof current === 'object' && !Array.isArray(current)\n                            ? (current as Record<string, unknown>)\n                            : {};\n                    return (\n                        <div key={key} className=\"rounded border border-fd-border p-2\">\n                            <div className=\"text-xs font-mono font-semibold mb-2\">\n                                {key} {schema.required ? <span className=\"text-red-500\">*</span> : null}\n                            </div>\n                            {schema.description ? (\n                                <div className=\"text-xs text-fd-muted-foreground mb-2\">{schema.description}</div>\n                            ) : null}\n                            <StructuredSchemaEditor\n                                value={nestedValue}\n                                entries={nestedEntries}\n                                typeIndex={typeIndex}\n                                onChange={(nextNested) => {\n                                    onChange({\n                                        ...value,\n                                        [key]: nextNested,\n                                    });\n                                }}\n                            />\n                        </div>\n                    );\n                }\n\n                const unionOptions = resolveUnionOptions(schema.type, typeIndex);\n                if (unionOptions.length > 0) {\n                    return (\n                        <div key={key}>\n                            <div className=\"text-xs font-mono mb-1\">\n                                {key} {schema.required ? <span className=\"text-red-500\">*</span> : null}\n                            </div>\n                            <Combobox\n                                items={unionOptions}\n                                value={String(current ?? '')}\n                                onValueChange={(val: string) => {\n                                    onChange({\n                                        ...value,\n                                        [key]: val,\n                                    });\n                                }}\n                            >\n                                <ComboboxInput\n                                    placeholder=\"Select value...\"\n                                    className=\"bg-fd-background\"\n                                />\n                                <ComboboxContent className=\"z-[100] min-w-[var(--anchor-width)]\">\n                                    <ComboboxEmpty>No items found.</ComboboxEmpty>\n                                    <ComboboxList>\n                                        {(enumVal: string) => (\n                                            <ComboboxItem key={enumVal} value={enumVal}>\n                                                {enumVal}\n                                            </ComboboxItem>\n                                        )}\n                                    </ComboboxList>\n                                </ComboboxContent>\n                            </Combobox>\n                        </div>\n                    );\n                }\n\n                if (Array.isArray(current)) {\n                    return (\n                        <div key={key}>\n                            <div className=\"text-xs font-mono mb-1\">\n                                {key} {schema.required ? <span className=\"text-red-500\">*</span> : null}\n                            </div>\n                            <textarea\n                                value={JSON.stringify(current, null, 2)}\n                                rows={4}\n                                spellCheck={false}\n                                onChange={(e) => {\n                                    try {\n                                        const parsed = JSON5.parse(e.target.value);\n                                        if (Array.isArray(parsed)) {\n                                            onChange({\n                                                ...value,\n                                                [key]: parsed,\n                                            });\n                                        }\n                                    } catch {\n                                        // Keep user typing without forcing parse errors.\n                                    }\n                                }}\n                                className=\"w-full rounded border border-fd-border bg-fd-background px-2 py-1.5 text-sm font-mono resize-y\"\n                            />\n                        </div>\n                    );\n                }\n\n                const inputValue = current === null || current === undefined ? '' : String(current);\n                return (\n                    <div key={key}>\n                        <div className=\"text-xs font-mono mb-1\">\n                            {key} {schema.required ? <span className=\"text-red-500\">*</span> : null}\n                        </div>\n                        <input\n                            type=\"text\"\n                            value={inputValue}\n                            onChange={(e) => {\n                                onChange({\n                                    ...value,\n                                    [key]: coerceByType(e.target.value, schema.type, current),\n                                });\n                            }}\n                            className=\"w-full rounded border border-fd-border bg-fd-background px-2 py-1.5 text-sm font-mono\"\n                        />\n                        {isFideIdLikeType(schema.type) && inputValue.trim() !== '' && !isValidFideIdValue(inputValue) && (\n                            <div className=\"mt-1 text-xs text-red-500\">\n                                Invalid Fide ID format. Expected <code>did:fide:0x</code> + 40 hex chars.\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n\nfunction ReturnBlock({ returnType, returnDescription }: { returnType: string; returnDescription: string }) {\n    const typeObj = {\n        'Type': {\n            description: returnDescription || '',\n            type: returnType,\n            required: true,\n        },\n    };\n\n    return <TypeTable type={typeObj} />;\n}\n\nfunction ConstantSection({ constants }: { constants: ConstantData[] }) {\n    if (constants.length === 0) return null;\n\n    return (\n        <>\n            <hr className=\"my-8\" />\n            <h2 className=\"text-xl font-semibold mb-4\">Related Constants</h2>\n            {constants.map((constant) => (\n                <div key={constant.name} id={constant.name.toLowerCase()} className=\"mb-6\">\n                    <h3 className=\"text-lg font-semibold mb-2\">\n                        <code>{constant.name}</code>\n                    </h3>\n                    {constant.description && <p className=\"text-sm text-fd-muted-foreground mb-3\">{constant.description}</p>}\n                    <div className=\"rounded-lg border bg-fd-card p-4 mb-3\">\n                        <pre className=\"text-xs overflow-x-auto\"><code className=\"language-ts\">{`export const ${constant.name}: ${constant.typeText}`}</code></pre>\n                    </div>\n                    {constant.typeTableEntries && (\n                        <TypeTable type={constant.typeTableEntries} />\n                    )}\n                </div>\n            ))}\n        </>\n    );\n}\n\nfunction TypeDefinitionsSection({ types }: { types: ReferencedType[] }) {\n    if (types.length === 0) return null;\n\n    return (\n        <>\n            <hr className=\"my-10\" />\n            <h2 className=\"text-xl font-semibold mb-6\">Type Definitions</h2>\n            <div className=\"space-y-10\">\n                {types.map((type) => (\n                    <div key={type.name} id={type.name.toLowerCase()}>\n                        <h3 className=\"text-lg font-mono font-semibold mb-3 flex items-center gap-3\">\n                            <span>\n                                <span className=\"text-fd-muted-foreground font-normal\">type</span> {type.name}\n                            </span>\n                            {type.docsUrl && (\n                                <a\n                                    href={type.docsUrl}\n                                    className=\"text-xs font-sans font-medium text-fd-primary hover:underline\"\n                                >\n                                    Related docs\n                                </a>\n                            )}\n                        </h3>\n                        {type.description && <p className=\"text-sm text-fd-muted-foreground mb-4\">{type.description}</p>}\n\n                        <div className=\"rounded-xl border bg-fd-card p-4 mb-4 overflow-x-auto\">\n                            <pre className=\"text-xs font-mono\"><code className=\"language-ts\">{type.type}</code></pre>\n                        </div>\n\n                        {type.entries && (\n                            <div>\n                                <h4 className=\"text-xs font-semibold uppercase tracking-wider text-fd-muted-foreground mb-2\">Properties</h4>\n                                <TypeTable type={type.entries} />\n                            </div>\n                        )}\n                    </div>\n                ))}\n            </div>\n        </>\n    );\n}\n\ninterface CodeBlockPanelProps {\n    code: string;\n    title?: string;\n    language?: string;\n    error?: string;\n}\n\nfunction CodeBlockPanel({ code, title = 'TypeScript', language = 'ts', error }: CodeBlockPanelProps) {\n    if (error) {\n        return (\n            <div className=\"rounded-xl border border-red-500/30 bg-red-500/10 overflow-hidden\">\n                <div className=\"flex items-center justify-between px-3 py-2 border-b border-red-500/30 bg-red-500/5\">\n                    <span className=\"text-[10px] uppercase tracking-wider font-bold text-red-600 dark:text-red-400\">{title}</span>\n                </div>\n                <div className=\"p-4 text-sm text-red-600 dark:text-red-400 font-mono whitespace-pre-wrap\">\n                    <strong>Error:</strong> {error}\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <CodeBlock\n            allowCopy\n            keepBackground={false}\n            className=\"not-prose\"\n        >\n            <Pre className=\"max-h-[400px]\">\n                <code className={`language-${language}`}>{code}</code>\n            </Pre>\n        </CodeBlock>\n    );\n}\n\n// ============================================================================\n// Helpers\n// ============================================================================\n\nfunction getDefaultValue(param: ParameterData): ParamValue {\n    if (param.example) return param.example;\n    const t = param.type;\n    if (/\\bboolean\\b/.test(t)) return false;\n    if (/\\bnumber\\b/.test(t)) return 0;\n    if (/\\[\\]$/.test(t) || /\\bArray</.test(t)) return '[]';\n    if (/\\{/.test(t) || /Record</.test(t)) return '{}';\n    return '';\n}\n\nfunction getInitialParamValue(param: ParameterData): ParamValue {\n    const raw = param.example ?? getDefaultValue(param);\n    if (isStructuredType(param.type)) {\n        return parseParamValue(raw, param.type) as ParamValue;\n    }\n    return raw;\n}\n\nfunction getPlaceholder(param: ParameterData): string {\n    if (param.example) return `Example: ${param.example}`;\n    const t = param.type;\n    const n = param.name;\n    if (/fideid|fideId|_id$/i.test(n)) return 'did:fide:0x...';\n    if (/\\bboolean\\b/.test(t)) return 'true or false';\n    if (/\\bnumber\\b/.test(t)) return '123';\n    if (/\\[\\]$/.test(t) || /\\bArray</.test(t)) return '[\"item1\", \"item2\"]';\n    if (/\\{/.test(t) || /Record</.test(t)) return '{\"key\": \"value\"}';\n    return `Enter ${n}`;\n}\n\nfunction isStructuredType(type: string): boolean {\n    if (isFideIdLikeType(type)) return false;\n    return (\n        /\\[\\]$/.test(type) ||\n        /\\bArray</.test(type) ||\n        /\\{/.test(type) ||\n        /\\bRecord</.test(type) ||\n        /^[A-Z][A-Za-z0-9_]*$/.test(type)\n    );\n}\n\nfunction toStructuredObject(value: ParamValue, type: string): Record<string, unknown> | null {\n    const parsed = parseParamValue(value, type);\n    if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n        return parsed as Record<string, unknown>;\n    }\n    return null;\n}\n\nfunction buildReferencedTypeIndex(types: ReferencedType[]): Map<string, ReferencedType> {\n    return new Map(types.map((t) => [t.name, t]));\n}\n\nfunction resolveTypeEntries(\n    type: string,\n    typeIndex: Map<string, ReferencedType>\n): Record<string, { description: string; type: string; required: boolean }> | undefined {\n    const named = typeIndex.get(type)?.entries;\n    if (named) return named;\n    return parseInlineObjectEntries(type);\n}\n\nfunction parseInlineObjectEntries(\n    type: string\n): Record<string, { description: string; type: string; required: boolean }> | undefined {\n    const trimmed = type.trim();\n    if (!trimmed.startsWith('{') || !trimmed.endsWith('}')) return undefined;\n    const body = trimmed.slice(1, -1).trim();\n    if (!body) return {};\n    const fields = body.split(';').map((part) => part.trim()).filter(Boolean);\n    const result: Record<string, { description: string; type: string; required: boolean }> = {};\n    for (const field of fields) {\n        const match = field.match(/^([A-Za-z_$][A-Za-z0-9_$]*)(\\??):\\s*(.+)$/);\n        if (!match) continue;\n        const [, name, opt, fieldType] = match;\n        result[name] = {\n            description: '',\n            type: fieldType.trim(),\n            required: opt !== '?',\n        };\n    }\n    return Object.keys(result).length > 0 ? result : undefined;\n}\n\nfunction parseStringLiteralUnion(type: string): string[] {\n  const matches = [...type.matchAll(/\"([^\"]+)\"/g)].map((m) => m[1]);\n  if (matches.length === 0) return [];\n  const unionLike = /^\"[^\"]+\"(\\s*\\|\\s*\"[^\"]+\")*$/.test(type.trim());\n  return unionLike ? [...new Set(matches)] : [];\n}\n\nfunction isFideIdLikeType(type: string): boolean {\n    return type === 'FideId' || /did:fide:0x/.test(type);\n}\n\nfunction isValidFideIdValue(value: string): boolean {\n    return /^did:fide:0x[0-9a-f]{40}$/i.test(value.trim());\n}\n\nfunction resolveUnionOptions(type: string, typeIndex: Map<string, ReferencedType>): string[] {\n    const inline = parseStringLiteralUnion(type);\n    if (inline.length > 0) return inline;\n\n    const referenced = typeIndex.get(type);\n    if (!referenced) return [];\n    return parseStringLiteralUnion(referenced.type);\n}\n\nfunction stringifyParamValueForEditor(value: ParamValue): string {\n    if (typeof value === 'string') return value;\n    if (value === null || value === undefined) return '';\n    try {\n        return JSON.stringify(value, null, 2);\n    } catch {\n        return String(value);\n    }\n}\n\nfunction parseParamValue(value: ParamValue, type: string): unknown {\n    if (typeof value === 'string') {\n        const trimmed = value.trim();\n        if (!trimmed) return undefined;\n\n        if (trimmed.startsWith('{') || trimmed.startsWith('[')) {\n            try {\n                return JSON.parse(trimmed);\n            } catch {\n                try {\n                    // Accept JS-style object literals from @paramDefault and manual input\n                    // (e.g. unquoted keys, single quotes, trailing commas).\n                    return JSON5.parse(trimmed);\n                } catch {\n                    return trimmed;\n                }\n            }\n        }\n\n        if (trimmed === 'true') return true;\n        if (trimmed === 'false') return false;\n\n        if (/\\bnumber\\b/.test(type) && /^-?\\d+(\\.\\d+)?$/.test(trimmed)) {\n            return Number(trimmed);\n        }\n\n        return trimmed;\n    }\n\n    return value;\n}\n\nfunction coerceByType(nextRaw: string, declaredType: string, previousValue: unknown): unknown {\n    if (typeof previousValue === 'boolean') {\n        if (nextRaw.toLowerCase() === 'true') return true;\n        if (nextRaw.toLowerCase() === 'false') return false;\n    }\n    if (typeof previousValue === 'number' || /\\bnumber\\b/.test(declaredType)) {\n        const n = Number(nextRaw);\n        if (!Number.isNaN(n)) return n;\n    }\n    if (previousValue === null && nextRaw.trim().toLowerCase() === 'null') return null;\n    return nextRaw;\n}\n\nfunction generateUsageExample(\n    functionName: string,\n    signature: SignatureData,\n    values: Record<string, ParamValue>,\n    packageName: string\n): string {\n    const importStatement = `import { ${functionName} } from '${packageName}';\\n\\n`;\n\n    const args = signature.parameters.map((param) => {\n        const value = values[param.name];\n        if (value === null || value === undefined || value === '') {\n            return getDefaultValue(param);\n        }\n        if (typeof value === 'string') {\n            if (value.trim().startsWith('{') || value.trim().startsWith('[')) {\n                return value.trim();\n            }\n            return `'${value}'`;\n        }\n        return JSON.stringify(value);\n    });\n\n    const call =\n        args.length === 0\n            ? `${functionName}()`\n            : args.length === 1\n                ? `${functionName}(${args[0]})`\n                : `${functionName}(\\n${args.map((arg) => `  ${arg}`).join(',\\n')}\\n)`;\n\n    const isPromise = /^Promise<[\\s\\S]+>$/.test(signature.returnType.trim());\n    const usageCode = isPromise ? `const result = await ${call};` : `const result = ${call};`;\n\n    return importStatement + usageCode;\n}\n",
      "type": "registry:component",
      "target": "sdk-layout/interactive/sdk-function-page-interactive.tsx"
    },
    {
      "path": "registry/chris-lally/fumadocs-sdk-layout/mdx/package-manager-tabs.tsx",
      "content": "import { Tab, Tabs } from 'fumadocs-ui/components/tabs';\nimport { CodeBlock, Pre } from 'fumadocs-ui/components/codeblock';\n\ninterface PackageManagerTabsProps {\n  packageName: string;\n  items?: ('pnpm' | 'npm' | 'yarn' | 'bun')[];\n}\n\nexport function PackageManagerTabs({\n  packageName,\n  items = ['pnpm', 'npm', 'yarn', 'bun'],\n}: PackageManagerTabsProps) {\n  const commands = {\n    pnpm: `pnpm add ${packageName}`,\n    npm: `npm install ${packageName}`,\n    yarn: `yarn add ${packageName}`,\n    bun: `bun add ${packageName}`,\n  };\n\n  return (\n    <Tabs items={items} persist>\n      {items.map((pm) => (\n        <Tab key={pm} value={pm} className=\"mt-1\">\n          <CodeBlock lang=\"bash\" className=\"pl-4\">\n            <Pre>\n              <code className=\"language-bash\">{commands[pm]}</code>\n            </Pre>\n          </CodeBlock>\n        </Tab>\n      ))}\n    </Tabs>\n  );\n}\n\n",
      "type": "registry:component",
      "target": "mdx/package-manager-tabs.tsx"
    }
  ]
}
